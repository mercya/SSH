
var aPoint = [
		'<area shape="polygon" coords="311,184,310,185,308,187,306,187,304,188,301,187,301,189,300,191,300,193,299,196,299,199,299,200,299,201,303,197,304,197,305,196,306,194,309,193,309,193,310,192,311,191,313,189,313,189,314,188,314,188,315,186,314,184,313,184,311,184" info="上海"  />',
'<area shape="polygon" coords="280,157,278,157,278,157,278,158,279,159,280,160,280,160,281,161,280,162,279,162,278,163,277,163,276,162,275,162,274,162,274,163,273,165,272,167,271,168,271,169,270,170,270,170,271,171,271,172,271,172,272,174,272,174,272,175,272,175,272,176,273,177,273,177,273,179,274,181,274,182,274,183,274,183,274,184,274,184,275,185,277,186,277,186,277,188,277,190,278,192,278,194,279,195,280,196,281,196,283,196,284,196,286,195,288,195,289,195,290,196,291,196,293,197,294,198,295,199,295,201,296,202,296,202,298,203,299,201,299,201,299,198,299,195,299,194,300,191,301,190,301,189,301,188,302,187,303,187,304,185,305,184,305,184,302,183,300,183,298,183,297,182,297,181,297,180,297,178,297,177,297,176,298,174,300,171,300,169,299,168,298,167,296,167,294,169,294,169,292,168,291,167,291,166,289,166,287,166,286,164,286,163,286,161,285,160,284,159,283,158,281,157,280,157" info="安徽"  />',
'<area shape="polygon" coords="193,231,193,230,193,228,193,227,192,226,192,224,190,223,189,223,188,222,188,221,188,220,188,219,188,219,190,217,191,218,193,219,194,219,195,219,196,218,197,218,198,217,199,216,200,215,200,214,198,213,195,213,194,212,192,211,191,210,191,209,190,208,187,208,186,209,185,211,184,213,183,216,181,218,181,219,180,219,180,222,180,224,179,226,179,227,179,228,176,228,175,228,173,228,170,226,170,224,170,223,169,221,167,217,166,216,166,214,164,213,163,211,161,209,160,207,159,205,158,204,156,204,155,205,154,204,153,202,152,201,149,204,147,206,147,208,146,209,145,209,145,211,147,212,147,213,148,214,148,215,148,218,148,221,148,221,148,222,147,224,146,225,146,226,146,227,145,228,142,229,141,230,139,232,138,233,138,233,138,234,136,237,137,238,137,238,137,240,137,240,137,241,139,241,142,240,143,240,144,240,145,241,145,242,146,245,146,248,146,248,147,249,148,249,150,249,150,249,150,250,150,251,149,252,149,253,148,255,148,256,148,256,148,257,149,257,150,257,151,258,151,258,152,260,152,261,153,262,154,262,155,262,155,264,156,264,156,264,159,263,160,262,160,262,163,263,163,266,163,267,164,268,165,268,166,268,167,267,167,265,167,261,166,259,166,258,166,257,168,256,170,256,171,256,172,256,173,254,173,254,174,254,175,255,175,256,175,257,176,258,177,257,177,257,178,256,178,255,179,255,181,255,183,256,184,257,185,257,186,255,188,255,188,255,189,255,190,255,192,254,193,252,194,252,196,251,198,252,199,253,200,252,202,251,203,251,203,251,205,250,205,249,206,248,204,247,202,246,201,245,199,244,198,243,196,243,195,242,195,242,194,241,194,239,194,238,193,236,193,235,193,234,193,233,193,231" info="云南"  />',
'<area shape="polygon" coords="202,251,204,249,205,249,204,247,202,246,200,245,197,244,196,243,195,242,194,242,194,241,194,241,195,240,195,240,197,240,197,239,199,239,199,238,200,238,202,238,203,238,205,237,206,237,207,237,207,237,209,237,210,237,210,237,211,236,211,235,213,234,213,233,215,233,216,234,217,236,218,236,219,236,220,236,223,236,224,236,225,235,227,234,228,233,229,232,229,232,231,231,231,230,232,230,233,229,233,229,234,228,239,227,241,227,241,228,242,228,242,229,243,230,244,232,244,234,244,236,245,237,245,238,245,239,246,240,247,240,247,240,248,241,248,241,248,241,248,242,248,242,247,244,247,246,247,248,247,250,247,251,247,253,247,254,247,254,245,255,245,258,246,261,249,264,246,265,242,267,238,268,237,269,235,268,234,269,234,270,235,271,236,273,236,273,234,276,233,276,231,276,231,275,230,274,229,273,229,271,229,269,229,268,229,267,229,265,229,265,227,266,226,266,224,266,222,265,221,264,219,265,218,266,217,266,217,267,215,266,212,265,211,264,208,264,206,263,205,260,205,259,206,256,203,255,201,255,198,253,198,252,202,251" info="广西"  />',
'<area shape="polygon" coords="291,244,289,243,289,242,287,242,286,241,284,240,283,240,282,240,281,240,280,241,279,241,277,241,276,241,273,241,271,240,269,240,268,239,267,238,265,237,264,237,262,236,258,236,255,236,252,237,251,240,250,241,249,243,248,246,247,248,246,249,246,250,245,250,245,250,245,252,245,254,245,255,243,258,239,260,236,262,233,263,231,265,230,267,229,269,229,270,229,271,229,272,230,273,230,275,232,277,234,277,236,276,237,273,234,271,234,270,235,269,237,268,237,268,238,268,240,268,241,267,242,266,243,265,244,265,245,265,245,265,246,265,247,264,247,263,247,261,247,259,247,258,248,257,249,257,250,256,251,256,253,257,253,257,254,258,255,258,255,259,256,260,256,261,257,261,257,261,258,261,259,261,259,259,260,256,260,254,261,253,261,252,263,252,264,252,265,252,266,254,266,256,266,257,266,257,268,256,270,255,272,255,274,255,276,254,277,254,279,254,281,254,282,253,283,252,284,249,285,248,287,247,288,247,290,246,291,245,291,244" info="广东"  />',
'<area shape="polygon" coords="298,207,298,206,298,206,298,204,298,203,298,203,298,202,299,201,300,200,302,199,302,198,304,197,305,196,306,195,308,194,310,193,311,193,311,193,314,193,316,195,316,196,317,197,317,200,316,202,316,205,316,206,317,207,317,208,317,208,314,209,313,209,312,209,311,211,311,213,311,214,309,214,307,214,304,214,303,214,302,214,302,212,301,211,299,210,298,209,298,207" info="浙江"  />',
'<area shape="polygon" coords="292,243,291,243,288,242,287,241,285,241,284,240,283,240,282,239,282,239,281,237,281,237,282,236,282,235,282,234,282,232,283,231,283,229,283,228,283,228,284,226,285,224,285,224,286,223,287,220,287,220,287,218,287,217,288,215,288,213,288,212,291,211,294,211,294,211,294,210,297,209,297,208,298,208,300,209,301,210,301,212,302,213,303,213,304,214,306,214,308,214,309,214,310,215,310,216,308,219,307,220,307,222,306,224,306,226,305,230,304,233,303,235,300,237,298,240,295,241,293,243,292,243" info="福建"  />',
'<area shape="polygon" coords="317,233,316,233,316,234,315,235,314,236,313,237,313,239,312,240,312,240,311,242,310,243,310,244,310,245,309,247,308,248,308,249,308,250,309,251,310,252,311,252,312,254,312,254,313,255,314,256,314,256,315,258,315,258,315,259,316,260,316,260,316,260,316,259,316,258,316,258,316,257,316,256,316,254,317,254,317,253,317,253,318,253,318,253,318,252,319,252,320,251,320,250,321,249,321,247,321,246,322,243,322,241,322,239,322,236,321,235,321,234,319,232,318,232,317,233" info="台湾"  />',
'<area shape="polygon" coords="226,277,225,278,224,279,224,279,224,280,224,280,223,281,222,281,221,282,221,282,220,283,220,284,220,285,220,286,220,287,220,288,222,289,222,290,223,291,224,291,225,292,226,292,227,292,229,292,230,291,231,291,232,291,234,290,234,290,236,288,236,287,237,286,237,284,237,282,238,281,238,280,238,279,237,278,233,278,231,278,229,278,227,277,226,277" info="海南"  />',
'<area shape="polygon" coords="284,154,286,156,288,157,288,157,290,157,291,156,292,155,293,155,293,156,294,157,297,158,298,159,300,160,301,161,303,163,305,164,305,166,306,167,307,169,307,170,307,171,308,173,308,173,310,174,312,176,312,177,313,178,313,179,313,180,312,180,310,180,308,178,307,178,306,178,305,178,305,179,305,179,307,181,307,182,308,183,311,184,313,184,313,185,311,185,309,186,308,187,307,188,305,188,303,188,303,187,304,186,305,185,305,184,305,183,304,183,303,183,301,183,300,183,298,182,297,181,297,180,297,178,298,176,298,175,298,174,299,173,300,172,300,172,300,170,300,169,299,167,298,167,296,168,296,169,295,170,294,170,293,170,292,168,292,167,292,166,291,165,289,165,289,165,287,164,286,162,286,160,285,159,284,159,283,158,280,157,280,157,280,156,280,155,282,154,284,154" info="江苏"  />',
'<area shape="polygon" coords="267,146,264,147,263,147,262,147,262,147,261,147,260,147,259,148,259,149,259,150,258,150,257,153,256,153,256,153,254,153,253,153,253,153,252,153,250,153,248,155,248,156,246,157,245,157,245,157,242,157,241,157,239,158,238,158,236,158,237,160,238,161,238,162,238,164,238,165,239,166,239,167,240,168,240,169,241,170,242,171,244,172,245,173,246,175,246,175,248,176,249,176,250,176,252,177,252,178,256,178,257,178,258,177,259,176,261,177,261,177,262,178,263,179,263,179,265,180,266,180,267,182,270,182,271,183,273,183,276,181,276,179,276,178,276,176,274,175,273,175,271,172,270,170,270,169,272,168,273,167,274,164,274,163,276,162,277,162,278,164,279,163,281,162,281,161,279,158,278,157,277,157,275,157,274,157,273,156,271,155,270,153,270,151,271,150,273,149,275,148,275,147,275,146,275,145,273,144,272,144,270,144,268,145,267,146" info="河南"  />',
'<area shape="polygon" coords="272,143,273,145,275,146,275,147,274,148,273,149,272,149,271,149,270,151,270,152,271,155,273,156,274,157,275,157,278,158,279,157,281,154,282,154,283,154,284,154,284,155,285,156,287,157,287,158,288,158,290,158,292,156,292,156,294,155,296,153,298,150,299,149,302,146,304,144,306,142,307,140,308,139,310,138,311,138,313,138,314,137,314,136,314,134,313,134,312,135,310,136,308,136,307,135,305,133,303,133,302,134,298,136,298,136,297,137,296,138,295,138,295,138,292,137,290,136,290,133,289,132,288,132,287,132,285,132,283,131,283,131,281,129,280,130,279,131,279,132,277,134,277,135,275,137,275,139,274,140,273,141,272,143" info="山东"  />',
'<area shape="polygon" coords="279,116,277,116,276,117,276,118,276,119,277,120,277,121,277,122,278,123,279,124,280,125,282,123,282,123,283,123,284,123,285,123,286,123,288,123,290,123,290,122,291,120,290,118,289,118,289,117,287,115,286,114,285,114,284,113,283,112,281,111,280,113,279,116" info="天津"  />',
'<area shape="polygon" coords="282,112,280,113,280,115,279,116,278,116,276,117,275,117,274,116,273,115,272,114,271,113,270,112,269,110,269,109,270,109,271,107,272,107,273,106,274,106,275,106,277,106,279,106,280,107,281,109,282,112" info="北京"  />',
'<area shape="polygon" coords="261,146,262,147,265,146,267,146,268,145,272,144,273,142,273,140,275,139,275,136,276,135,278,132,281,130,281,128,280,127,280,125,279,124,278,123,276,120,276,119,275,118,274,116,272,115,270,113,269,111,269,110,271,108,272,107,275,106,277,105,279,105,280,108,281,108,281,110,281,111,282,112,283,113,285,113,286,115,287,116,290,117,291,117,292,116,294,115,297,113,298,112,298,111,297,108,296,107,296,106,294,105,292,103,292,102,291,100,289,100,286,98,285,96,285,94,284,92,282,92,280,92,278,92,277,94,275,95,275,98,274,99,273,100,271,101,269,100,268,100,266,99,265,98,265,98,263,97,262,97,261,98,260,99,260,100,259,101,259,103,258,104,258,106,259,107,260,108,261,110,261,111,261,111,262,113,262,115,261,116,261,116,261,120,261,120,260,123,260,125,261,128,261,131,260,134,259,136,258,138,258,141,260,144,259,143,259,143,259,143,260,144,258,141,258,138" info="河北"  />',
'<area shape="polygon" coords="260,110,257,111,256,111,254,112,253,112,253,112,250,113,249,113,247,115,246,115,246,115,244,117,244,117,243,118,242,118,241,120,242,123,241,125,240,125,239,126,238,127,237,129,238,131,238,133,238,134,238,136,237,138,237,139,238,142,238,143,238,147,237,148,237,149,237,151,236,151,236,153,236,154,235,156,235,156,236,158,238,159,240,159,241,158,242,158,243,158,244,158,247,157,248,157,249,156,250,155,251,154,253,154,255,153,256,153,258,152,259,151,260,149,261,145,260,144,259,142,259,140,259,138,259,135,260,133,261,132,261,129,261,129,261,125,261,123,262,120,262,119,262,116,262,114,262,112,260,110" info="山西"  />',
'<area shape="polygon" coords="329,90,329,92,331,94,332,94,335,96,335,98,334,99,332,101,332,102,330,104,329,106,328,107,326,108,325,109,324,111,323,112,320,114,318,115,315,115,315,116,313,116,311,117,308,120,307,123,306,124,305,124,304,123,305,122,306,120,307,119,307,116,308,115,310,113,310,112,310,111,309,109,308,109,307,107,305,106,304,105,302,105,301,107,300,108,299,110,299,111,298,111,297,109,296,106,295,106,293,106,292,104,292,102,293,101,293,100,293,98,293,95,293,94,294,94,295,94,298,95,299,96,301,96,303,94,303,92,303,92,305,91,307,90,310,88,312,88,315,87,316,86,318,84,320,83,320,82,322,83,323,84,326,85,327,87,329,87,329,90" info="辽宁"  />',
'<area shape="polygon" coords="235,187,234,185,233,184,233,183,232,181,232,179,232,178,233,177,233,175,233,174,233,173,233,172,233,171,235,171,236,170,237,169,239,169,241,169,243,171,245,173,246,175,249,176,251,176,252,177,255,177,257,178,258,177,259,177,261,178,262,180,265,180,266,181,269,181,270,182,272,184,273,184,274,185,277,185,278,187,278,189,278,190,278,192,279,194,280,196,279,197,277,197,275,197,274,197,273,197,273,198,272,199,271,200,270,200,269,201,268,201,266,201,264,200,262,199,261,199,260,199,258,199,257,199,255,199,254,197,253,197,250,196,250,196,248,196,248,196,246,197,244,197,242,197,240,198,237,199,234,200,232,201,230,202,228,201,227,200,226,198,226,195,224,195,224,194,225,193,226,192,228,191,230,190,231,190,234,191,235,190,235,189,235,187" info="湖北"  />',
'<area shape="polygon" coords="269,238,270,238,272,239,273,240,274,241,276,241,278,241,281,241,280,239,280,237,281,236,281,234,282,233,283,232,284,231,284,229,285,227,285,225,286,223,287,220,287,219,288,216,288,215,288,212,288,212,289,212,291,212,293,212,294,211,297,210,297,209,298,208,298,207,297,204,296,202,295,199,293,198,291,196,289,195,285,195,283,196,280,196,277,196,273,197,271,199,271,200,270,201,268,202,265,201,265,201,263,202,263,203,264,205,265,206,266,207,265,209,264,210,264,211,262,213,262,215,261,216,262,219,262,222,263,225,264,227,264,230,263,233,261,235,262,235,264,236,266,236,269,238" info="江西"  />',
'<area shape="polygon" coords="231,202,232,201,234,200,235,199,236,199,238,199,240,198,242,197,243,197,244,197,245,197,247,196,248,195,249,195,250,195,251,195,252,196,254,197,255,197,255,197,256,197,257,199,258,199,258,199,259,199,259,199,260,199,261,199,262,199,264,199,264,200,265,200,265,201,264,202,263,203,263,204,264,204,265,205,266,206,266,207,266,208,265,210,264,211,264,212,263,213,263,214,262,216,262,217,262,218,262,220,263,220,263,222,263,223,264,224,264,225,264,226,264,228,265,229,265,231,264,233,264,234,262,235,260,236,259,236,258,237,255,237,253,236,252,237,251,238,250,241,250,243,249,245,248,242,246,240,244,238,244,236,244,234,244,232,243,230,243,228,242,228,240,227,238,227,237,227,236,228,234,229,232,229,231,226,232,224,232,223,231,222,231,222,230,222,229,222,228,221,227,220,228,219,228,217,228,216,229,215,229,212,227,212,227,210,228,209,230,208,230,206,229,204,231,202" info="湖南"  />',
'<area shape="polygon" coords="207,205,207,207,207,208,208,208,209,208,209,207,210,206,211,205,211,205,211,204,213,204,214,204,215,204,216,204,217,203,218,203,220,204,221,204,221,205,222,205,222,206,222,207,222,208,224,209,224,210,226,211,227,211,228,211,229,211,229,210,230,209,230,208,230,206,230,205,230,204,230,203,230,202,228,201,227,200,227,199,227,198,227,197,227,196,226,195,225,195,224,195,224,194,225,194,226,193,228,193,228,192,229,191,232,191,233,191,234,191,235,191,236,190,236,189,236,188,236,187,235,186,234,184,234,183,232,182,231,181,230,181,229,181,228,181,228,181,227,181,226,182,226,183,226,183,225,184,225,185,225,186,225,187,225,187,224,187,223,188,223,188,222,189,221,190,220,191,219,192,218,193,218,194,218,194,218,195,217,196,216,197,215,198,214,198,213,199,213,199,212,199,211,199,210,199,208,199,207,200,207,200,206,201,205,203,205,204,207,205" info="重庆"  />',
'<area shape="polygon" coords="198,214,197,215,197,215,196,216,195,217,193,217,192,218,190,218,189,218,188,218,187,219,187,220,187,221,188,223,189,224,191,224,192,224,193,224,192,225,192,226,192,227,192,228,192,229,192,231,192,231,192,232,192,233,192,234,193,235,193,236,194,237,194,239,194,239,194,240,196,240,197,240,199,239,200,238,201,237,203,237,204,237,205,237,206,237,207,237,209,237,209,237,210,236,211,236,212,236,213,234,214,233,215,233,216,234,217,235,217,235,218,236,219,236,222,236,222,235,224,236,224,235,226,234,229,233,230,233,231,231,232,230,232,229,231,228,232,226,232,225,232,224,232,223,231,222,229,222,228,221,229,219,229,218,229,216,230,215,229,214,228,212,227,212,226,211,225,210,223,209,223,208,222,207,222,206,222,206,221,205,220,205,220,204,218,204,217,204,216,204,215,204,213,204,212,204,211,205,209,207,208,208,207,208,207,207,207,206,205,207,204,208,203,210,202,211,203,212,204,213,204,215,204,215,204,216,202,216,199,216,198,214" info="贵州"  />',
'<area shape="polygon" coords="309,62,310,61,311,61,312,60,313,60,313,60,313,61,314,62,315,63,316,63,317,64,318,64,318,65,319,65,320,64,321,64,322,64,322,64,323,64,324,65,325,66,325,66,325,67,326,67,327,67,328,67,329,66,329,66,330,66,331,66,331,66,333,66,334,66,335,66,336,67,336,68,337,68,337,69,338,69,339,69,339,70,340,71,341,71,342,72,342,71,344,71,344,71,345,70,346,70,347,71,347,72,348,72,348,73,349,74,350,74,349,74,351,75,352,75,352,74,353,74,353,73,354,73,355,72,356,72,356,72,358,72,359,72,360,73,360,75,360,76,360,77,359,78,359,79,358,80,358,81,358,81,357,82,357,83,357,84,357,85,356,85,356,85,355,84,355,83,354,83,354,83,353,83,353,83,352,83,352,84,352,86,352,86,352,87,351,87,350,88,350,89,349,89,349,90,349,91,349,92,349,92,348,92,347,92,346,92,344,92,343,92,343,93,344,94,344,94,344,95,345,95,345,97,345,97,344,98,342,98,342,98,341,98,339,98,338,97,336,96,335,96,334,96,333,95,332,94,331,93,330,92,328,89,328,88,326,85,325,85,323,84,322,84,321,82,320,82,318,83,318,82,317,81,316,81,315,80,315,78,315,77,315,75,314,75,314,74,314,74,313,75,313,75,312,76,312,76,312,77,312,78,311,79,311,79,311,79,309,78,309,78,308,76,308,76,307,75,306,73,306,72,307,70,307,70,306,69,306,68,305,67,304,67,303,67,303,65,304,65,305,64,306,63,307,62,308,62,309,62" info="吉林"  />',
'<area shape="polygon" coords="152,200,153,198,153,197,153,196,154,194,154,192,154,190,153,190,154,186,153,185,153,184,153,184,153,182,152,181,151,178,149,177,148,176,147,174,146,173,145,172,145,171,145,169,145,168,145,166,146,164,147,162,148,161,149,161,152,161,152,162,154,165,155,164,156,166,156,168,157,170,158,170,160,170,160,170,161,170,162,171,165,172,166,172,169,171,169,171,170,171,171,170,171,170,172,169,172,169,173,169,173,169,175,169,175,169,176,168,177,167,177,166,177,165,176,164,176,163,177,163,178,163,181,162,182,161,182,161,184,161,185,162,186,163,188,164,189,164,190,164,192,165,193,166,194,167,195,168,195,169,195,170,196,172,196,173,197,174,197,174,199,173,200,173,202,173,205,172,208,173,210,174,213,174,215,175,216,176,218,177,220,177,222,177,224,177,226,178,228,179,229,180,227,181,227,181,226,184,226,185,226,187,224,187,223,188,221,190,221,191,220,192,219,193,217,195,217,196,215,196,215,198,210,200,206,201,206,202,207,204,207,206,206,207,205,209,204,210,203,211,204,212,205,213,205,216,201,216,199,215,198,215,198,213,196,213,195,213,194,212,192,212,192,212,191,210,190,208,187,208,185,209,185,212,184,213,183,215,183,216,182,217,181,219,180,220,180,221,180,223,180,225,179,227,179,228,178,228,175,228,174,228,173,228,170,225,170,224,168,221,168,219,167,218,165,217,165,214,164,211,164,211,162,210,161,210,159,209,159,206,159,205,158,204,157,204,156,205,155,206,154,205,153,204,152,203,151,202,152,200" info="四川"  />',
'<area shape="polygon" coords="214,141,214,140,213,139,213,138,213,137,213,136,213,134,213,133,214,132,214,132,216,131,216,131,218,132,218,133,221,134,221,135,223,135,224,134,225,134,225,133,226,132,227,130,229,128,230,126,230,125,232,124,233,122,235,122,236,121,237,120,238,120,239,120,242,120,242,121,242,122,241,123,241,125,240,126,239,127,238,128,238,129,238,130,239,132,239,133,239,135,239,136,239,137,238,140,238,140,238,142,238,144,238,145,238,147,238,148,238,149,238,150,238,151,237,152,236,153,236,154,236,155,236,156,235,157,235,158,236,159,236,159,238,161,238,163,239,165,239,167,241,169,240,171,239,171,236,171,235,172,234,172,233,173,233,174,234,176,234,177,233,178,233,179,232,180,232,183,230,182,228,181,226,180,225,179,220,178,218,178,217,178,214,177,213,175,211,175,208,175,206,174,205,173,205,171,206,169,209,165,211,163,212,161,213,160,214,158,217,157,218,155,220,154,221,154,221,153,221,152,222,152,223,150,224,149,224,148,224,147,225,146,225,145,225,144,224,143,222,142,220,142,217,142,217,142,214,141" info="陕西"  />',
'<area shape="polygon" coords="197,138,198,136,198,136,199,135,200,135,201,135,203,134,203,133,203,131,204,129,204,128,204,127,205,126,205,125,206,124,206,123,207,122,207,121,208,120,209,120,209,120,211,120,211,121,212,122,213,123,213,125,213,127,214,128,214,128,214,130,213,131,213,132,212,133,212,134,212,136,212,137,212,138,213,139,214,140,213,140,213,142,213,144,213,145,213,147,213,148,213,149,211,150,210,151,209,152,208,153,207,154,206,153,204,152,203,151,202,150,201,148,202,147,203,145,203,144,201,141,200,140,199,139,197,138" info="宁夏"  />',
'<area shape="polygon" coords="140,95,142,94,143,93,144,93,145,91,146,91,147,89,148,89,148,88,149,88,151,90,152,91,154,93,154,93,154,94,154,96,154,97,153,98,153,99,153,99,153,100,154,101,155,102,155,103,156,104,156,105,157,106,158,106,159,106,159,106,160,106,162,106,162,106,163,106,163,106,165,107,167,107,168,108,170,111,171,112,172,114,174,115,176,117,177,118,178,119,179,120,180,121,182,122,184,121,185,121,187,121,188,120,189,120,190,120,191,120,193,120,195,121,195,122,195,123,194,125,194,126,193,127,192,128,192,128,192,129,192,130,192,132,193,133,194,134,195,135,196,136,198,138,198,139,200,140,201,141,202,142,203,144,203,146,202,148,201,148,202,149,204,151,206,153,209,154,209,153,210,151,211,150,213,149,212,146,212,144,212,141,213,141,216,141,217,141,220,141,222,141,224,143,226,144,225,145,224,147,224,148,224,149,224,151,222,151,221,154,219,155,218,156,216,157,215,157,212,157,211,157,210,158,210,160,210,161,210,162,210,163,209,165,207,167,206,168,206,168,205,170,205,172,203,172,202,173,199,173,199,174,198,174,196,173,195,171,195,169,194,167,194,167,193,166,192,165,189,164,186,163,185,161,181,162,180,163,178,163,176,164,175,163,172,161,172,160,174,158,176,157,178,156,180,155,183,153,184,152,185,150,185,149,186,148,186,146,186,144,186,141,185,139,184,137,183,135,182,133,179,133,178,132,176,132,174,131,175,130,173,128,174,127,171,125,170,123,168,122,168,121,165,119,164,119,162,118,160,117,159,117,157,118,154,118,153,118,150,118,148,118,147,118,146,118,145,119,144,120,143,120,141,118,140,118,139,117,137,116,136,115,135,114,134,114,133,114,131,113,128,112,128,112,128,110,128,108,128,106,127,104,128,102,129,102,130,101,133,98,135,98,136,97,137,97,140,95" info="甘肃"  />',

'<area shape="polygon" coords="97,134,100,134,102,134,104,133,104,132,103,131,104,129,105,128,107,126,108,125,108,124,106,123,105,121,104,121,103,119,103,118,103,117,103,116,105,116,109,116,112,115,114,115,117,114,120,114,124,114,125,113,127,112,129,112,131,113,134,114,136,116,137,117,140,118,140,119,144,120,145,120,147,119,148,118,149,117,150,117,153,117,155,117,156,117,161,118,163,119,166,119,168,121,170,123,172,124,173,126,175,128,176,130,177,132,178,132,179,132,181,132,183,134,184,135,185,136,185,137,185,139,186,142,186,144,186,146,186,148,185,149,184,152,183,153,182,154,179,156,178,157,177,158,176,158,175,158,174,159,172,160,173,161,175,164,175,164,177,164,177,166,177,167,177,168,176,169,174,169,171,170,170,171,168,171,167,172,165,172,163,171,161,169,158,170,157,169,156,167,155,165,153,164,152,163,150,162,149,161,148,162,148,164,147,165,146,168,146,169,145,170,144,172,143,173,142,175,140,176,139,177,138,178,136,178,135,177,134,177,132,175,130,173,129,172,128,170,127,170,125,170,124,170,121,170,121,170,119,169,118,169,118,168,117,167,116,167,114,167,113,167,112,166,111,165,109,164,107,163,106,162,104,162,104,162,103,161,102,161,101,160,100,160,99,160,97,160,95,157,94,155,94,154,93,152,92,150,92,148,94,147,94,146,94,144,95,143,95,139,95,137,97,135,96,134,95,133,97,134" info="青海"  />',
'<area shape="polygon" coords="23,134,23,136,23,138,23,138,24,140,24,142,24,143,23,145,22,146,21,146,19,146,18,145,17,146,17,148,17,149,18,151,16,155,17,156,18,157,20,159,21,161,23,163,26,165,28,168,30,170,31,167,33,167,35,168,36,170,38,171,38,173,39,175,41,177,42,179,44,180,46,179,47,180,48,182,48,184,49,186,51,187,52,187,54,189,54,191,58,192,58,194,61,194,61,195,61,195,63,194,64,194,65,197,67,198,70,198,73,198,75,198,75,198,76,198,77,200,77,202,78,204,79,205,79,204,80,202,81,200,82,199,84,199,87,198,89,200,90,201,92,202,93,202,95,202,97,203,97,206,98,207,100,210,101,211,103,212,105,211,107,212,108,214,109,215,111,214,113,213,115,211,116,210,119,209,122,208,127,207,129,205,131,206,134,208,135,209,137,210,138,210,140,210,141,209,141,207,141,206,145,206,145,208,147,209,149,206,150,203,151,202,152,200,153,198,153,195,153,191,153,190,153,185,153,181,151,178,149,177,148,176,147,174,146,173,145,173,142,174,141,176,139,178,137,178,134,177,132,175,131,174,128,171,128,171,126,170,125,170,123,170,120,170,120,169,120,168,116,168,115,168,113,167,112,166,110,164,108,163,106,163,105,163,102,161,101,160,99,159,96,159,96,158,95,157,94,155,93,152,92,151,92,150,92,149,92,148,94,147,94,145,94,143,95,142,95,141,95,139,96,138,96,137,96,136,96,134,95,133,93,132,89,131,87,131,85,130,83,129,81,129,79,128,77,129,75,129,73,130,70,130,68,130,67,131,64,132,61,132,59,132,57,132,54,130,52,129,51,129,48,128,43,128,40,128,38,126,37,126,34,126,32,126,30,127,28,130,27,131,27,132,25,132,24,133,23,134" info="西藏"  />',
'<area shape="polygon" coords="289,7,291,5,292,4,294,4,297,4,298,4,299,5,301,6,303,6,305,7,307,8,309,10,310,12,312,15,314,15,316,14,321,14,322,16,324,19,324,19,324,21,326,22,326,24,328,27,328,29,329,32,332,32,334,32,336,32,338,31,341,33,343,33,345,36,347,37,348,40,349,42,351,43,354,43,357,41,359,40,361,37,364,35,367,34,369,33,371,33,372,36,372,39,372,40,371,42,370,44,370,45,370,46,370,49,370,51,369,53,369,57,368,60,368,63,367,63,363,62,361,62,358,62,357,63,357,66,358,68,358,70,358,72,354,72,351,74,350,75,347,73,346,70,344,71,343,72,341,71,339,69,336,68,334,67,333,67,332,67,328,67,325,67,323,65,320,65,318,65,316,63,314,61,313,59,313,58,312,56,311,55,310,54,308,54,308,52,310,49,311,46,313,45,314,43,316,40,316,40,316,38,317,36,318,34,318,31,319,29,319,27,318,24,316,22,314,22,313,23,311,23,310,25,309,26,306,26,304,27,301,29,301,29,299,27,298,24,297,22,298,20,299,18,299,17,298,15,295,14,294,13,292,12,291,11,290,9,289,7" info="黑龙江"  />',

'<area shape="polygon" coords="149,88,151,89,155,90,157,90,160,90,162,91,165,91,170,92,171,92,175,92,177,93,180,93,183,96,186,97,189,98,192,99,194,100,197,101,199,101,200,102,202,102,205,101,209,100,212,98,215,97,222,97,225,97,229,97,232,96,237,94,240,92,242,90,243,88,244,87,242,84,242,81,242,80,243,78,245,77,247,77,249,78,251,78,254,77,256,76,259,74,260,73,263,72,264,72,266,71,268,69,270,68,272,66,274,65,276,63,279,63,283,62,287,62,289,61,289,59,288,57,286,55,284,54,283,52,282,52,281,52,277,53,274,54,270,55,269,56,265,55,264,54,265,52,265,48,266,46,266,44,267,42,268,40,269,39,270,38,272,38,276,38,278,37,281,36,284,35,285,33,283,31,283,28,283,27,284,26,286,24,287,22,287,20,287,18,288,16,290,15,291,12,293,13,296,14,298,16,299,17,298,19,297,22,297,24,299,27,301,29,303,28,305,27,307,26,310,26,312,24,314,23,316,24,319,25,319,28,319,30,318,34,318,35,316,37,316,39,314,42,313,44,312,46,310,49,309,51,308,53,308,55,311,55,313,57,313,60,312,61,308,63,306,64,304,64,303,67,306,67,306,70,307,72,308,75,309,79,311,79,312,76,314,74,315,78,316,80,318,83,318,85,317,86,314,87,311,88,308,89,307,90,304,92,301,96,299,97,296,94,294,93,293,96,293,98,293,101,290,101,286,98,285,96,284,93,283,92,280,92,278,93,277,96,275,97,274,99,273,100,272,101,268,101,265,98,263,97,261,98,260,99,260,101,259,103,259,105,261,107,260,110,257,110,253,112,248,115,245,117,242,119,237,120,233,121,230,125,229,128,227,131,225,133,222,134,218,131,215,130,213,126,213,123,212,121,211,120,209,120,207,121,207,123,205,127,205,129,204,132,202,134,199,136,197,136,195,134,192,131,192,128,193,127,195,124,195,122,195,120,193,120,191,120,188,121,186,122,183,122,181,122,178,119,175,116,173,115,171,112,168,109,166,107,164,106,160,107,157,106,154,102,153,99,154,96,154,93,153,91,150,90,149,88" info="内蒙古"  />',
'<area shape="polygon" coords="27,78,30,76,34,75,37,74,39,74,42,74,45,74,47,73,49,73,52,71,53,70,54,68,57,65,59,65,58,61,58,58,58,54,58,51,59,49,61,49,64,49,66,50,69,51,71,52,73,50,73,46,75,44,77,42,80,39,82,39,85,40,87,41,88,41,92,43,94,43,95,41,96,38,96,36,98,34,99,32,102,32,103,32,104,31,107,29,109,28,111,28,112,30,112,32,112,34,113,36,114,37,116,39,119,42,122,45,124,49,125,52,125,54,123,58,123,60,122,62,122,64,123,66,127,66,130,66,133,67,135,68,138,71,140,73,144,75,146,76,147,77,147,79,147,81,148,83,149,86,149,87,147,90,145,92,143,94,139,96,136,97,132,98,130,100,127,102,127,104,128,108,128,111,128,113,122,114,119,114,116,115,110,116,107,116,104,116,103,117,103,120,105,122,106,123,108,126,106,128,104,129,103,131,105,132,104,134,99,134,96,134,92,133,88,133,85,131,81,129,80,128,76,129,75,130,70,130,67,132,64,132,60,132,58,132,56,131,54,129,50,129,47,129,43,129,41,128,38,127,36,126,33,126,31,127,30,128,28,130,27,132,26,132,24,130,23,126,23,122,23,120,22,120,18,120,16,118,14,116,13,114,11,112,11,110,10,107,8,104,6,102,6,101,8,98,9,95,9,93,10,90,8,89,5,87,6,84,6,82,8,80,11,77,14,76,16,76,20,76,23,77,25,78,27,78" info="新疆"  />',
'<area shape="poly" coords="249,257,247,259,247,263,250,266,256,263,254,258,250,256,249,257" info="香港" />',
'<area shape="poly" coords="264,252,261,252,260,254,260,256,260,258,261,261,265,261,267,256,265,253,264,252" info="澳门" />'
];

( function( $, window )
{
	oMap = {};
	
	//des : 实例化对象
	//return : 返回MAP对象 
	oMap.making = function( o )
	{
		return new this.init( o );
	};
	//des : 初始化对象
	oMap.init = function( obj )
	{
		this.shape = null;
		this.def = obj.def || null;
		this.stop = obj.stop || false;
		this.img = document.getElementById( ( obj.img || "AMAP") );
		this.mapID = this.img.getAttribute( "usemap" ).substring( 1 ) || "#AMAP";
		this.width = obj.imgWidth || 500;
		this.height = obj.imgHeight || 500;
		this.lteIE_8 = this.browser();
		this.fillOpacity = obj.fillOpacity || 0.5;
		this.fill = obj.fill || "#f00";
		this.strokeFill = obj.strokeFill || "#000";
		this.strokeWidth = obj.strokeWidth || 1; 
		this.event = obj.event;
		this.info = this.pointObject( obj.points );
		//初始化结构
		this.wrap = this.createStructure();
		
		//创建热点
		this.area = this.createArea( obj.points );
		
		//创建画布
		this.createCanvas( this.lteIE_8 );
		
		//绑定事件
		this.bindEvent( this.area, this.lteIE_8 );

	};
	
	oMap.init.prototype = {
		
		// 获取坐标对象
		pointObject : function( array )
		{
			var newArray = [];
			var currPoint = null;
			var currIndex = null;
			
			for( var i = 0, len = array.length; i < len; i += 1 )
			{
				var sName = array[ i ].match( /info\=\".+?\"/g )[0].match( /[^(info)\=\"\']+/g )[0];
				
				var sPoint = array[ i ].match( /coords\=\".+?\"/g )[0].match( /[^(coords)\=\"\']+/g )[0];
				
				if( sName === this.def )
				{
					currPoint = sPoint;
					currIndex = i;
				};
				
				newArray.push({ "name" : sName, "point" : sPoint } );
			};

			return {
				data : newArray,
				curr : {
					index : currIndex,
					point : currPoint
				}
			}
		},
		
		//des : 检测兼容性
		browser : function()
		{
			var str = window.navigator.userAgent.toLowerCase().match( /msie\s+\d+/g );

			return str ? str[0].match(/\d+/g )[0] <= 8 ? true : false  : false; 
		},
		
		//des :  创建结构
		//return : 外层结构
		createStructure : function()
		{
			var wrapStr = "<div id=\"" + this.mapID +
						  "-wraper\" style=\"position:relative;left:0;top:0;overflow:hidden;height:" + 
						  this.height +
						  "px;width:" + 
						  this.width +
						  "px;background:url(" + this.img.src + ") no-repeat;\"></div>"; 
			
			$( this.img ).css({ "position" : "relative" , "z-index" : 1 , "opacity" : 0 }).wrap( wrapStr );
			
			return this.img.parentNode;
		},
		
		//des : 创建热点( 热点集合 )
		//return : 所有热点对象
		createArea : function( point )
		{
			var oMap = document.createElement("map");
			
			oMap.name = oMap.id = this.mapID;
			
			oMap.style.position = "absolute";
			oMap.style.left = 0;
			oMap.style.top = 0;
			
			oMap.innerHTML = point.join("");
			
			this.wrap.appendChild( oMap );

			return oMap.getElementsByTagName( "area" );
		},
		
		//des : 创建svg
		createCanvas : function( bool )
		{
			if( bool )
			{
				// 创建VML对象
				document.namespaces.add( "rvml", "urn:schemas-microsoft-com:vml" );

				document.createStyleSheet().addRule(".rvml", "behavior:url(#default#VML)");
				document.createStyleSheet().addRule(".rvml", "position:absolute;");
				
				var oDiv = document.createElement("div");
				var oFrag = document.createDocumentFragment();
				
				oDiv.id = this.mapID + "-canvas";

				oDiv.style.position = "absolute";
				oDiv.style.left = 0;
				oDiv.style.top = 0;
				oDiv.style.width = "100%";
				oDiv.style.height = "100%";

				for( var i = 0, len = this.area.length; i < len; i += 1 )
				{
					var sPoint = this.area[ i ].getAttribute("coords");

					var polylineStr = "<rvml:polyline id=\"shape"+ i +"\" class=\"rvml\" filled=\"true\" strokecolor=\"" + this.strokeFill +
									  "\" stroked=\"true\" strokeweight=\"" + this.strokeWidth +
									  "\" fillcolor=\"" + this.fill + 
									  "\" points=\""+ sPoint +
									  "\" style=\"filter:alpha(opacity=" +( this.info.curr.index === i ? this.fillOpacity*100 : 0 ) +");\" />";
									  
					var opolyLine = document.createElement( polylineStr );
   					oFrag.appendChild( opolyLine );
				};
				oDiv.appendChild( oFrag );
				
				this.wrap.appendChild( oDiv );
			}
			else
			{
				/* 创建svg对象 */
				var sHttp = "http://www.w3.org/2000/svg";
				
				var oSvg = document.createElementNS( sHttp ,"svg"); 
				
				oSvg.setAttribute( "height", "100%" ); 
				oSvg.setAttribute( "width", "100%" );
				
				oSvg.style.position = "absolute";
				oSvg.style.left = 0;
				oSvg.style.top = 0;
				
				this.shape = document.createElementNS( sHttp , "polygon" ); 
				
				this.shape.setAttribute( "stroke", this.strokeFill ); 
				this.shape.setAttribute( "fill", this.fill ); 
				this.shape.setAttribute( "opacity", this.fillOpacity ); 
				this.shape.setAttribute( "stroke-width", this.strokeWidth ); 
				
				this.shape.setAttribute( "points" , this.info.curr.point );
				
				oSvg.appendChild( this.shape ); 
				
				this.wrap.appendChild( oSvg ); 
			};
		},

		fx : function( obj, attr, iTarget, fn )
		{
			var getStyle = function( obj, attr )
			{
				return obj.currentStyle ? attr === "opacity" ? obj.currentStyle[ "filter" ] === "" ? "1" : ( Number( obj.currentStyle[ "filter" ].match(/\d+/g)[0] )/100 ).toString() : obj.currentStyle[ attr ] : getComputedStyle( obj, false )[ attr ];
			};

			iTarget = parseInt(iTarget);
			clearInterval(obj.timer);
			obj.timer = setInterval(function(){
				
				var val =  getStyle( obj, attr ),
					iCurr = ( attr == "opacity" ) ? parseInt(parseFloat(val)*100) : parseInt( val=="auto"?0:val ),
					Buffer = ( iTarget - iCurr )/4,
					iSpeed = Buffer>0?Math.ceil(Buffer):Math.floor(Buffer);
					
				if( iTarget == iCurr ){
					clearInterval(obj.timer);
					
					if(fn) fn();
				} else if( attr == "opacity" ){ 
						var repair = iTarget - iCurr>iSpeed?1:0;
						//console.log(iCurr + iSpeed + repair)
						obj.style.filter = "alpha(opacity:"+ ( iCurr + iSpeed + repair ) +")";
						obj.style.opacity = ( iCurr + iSpeed + repair )/100;
				} else {
					obj.style[ attr ] = iCurr + iSpeed + "px";
				};
			},30);
			
		},

		//des : 热点绑定事件( 热点集合 )
		bindEvent : function( area, bool )
		{
			if( this.stop )
			{
				this.wrap.self = this;
				
				$( this.wrap ).mouseout( function()
				{
					if( bool )
					{
						$( document.getElementById( this.self.mapID + "-canvas" ).children ).hide();

					}
					else
					{
						this.self.shape.removeAttribute( "points" );
					};
				});

			};
			
			for( var i = 0, aLen = area.length; i < aLen; i += 1 )
			{
				area[ i ].self = this;
				area[ i ][ "on" + this.event ] = function()
				{
					if( bool )
					{
						var _this = document.getElementById( "shape" + $( this ).index() );
						
						//_this.style.display = "block";
						
						$( _this ).show().siblings().hide();
						
						this.self.fx( _this, "opacity", this.self.fillOpacity*100 );
					}
					else
					{
						this.self.shape.setAttribute( "points" , this.getAttribute("coords") );
					};
				};
			};
		}
	};
	window.AMAP = oMap;
	
})( jQuery, window );